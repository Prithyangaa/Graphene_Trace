@model List<GrapheneTrace.Model.Patient>

@{
    ViewData["Title"] = "Clinician Dashboard";
    var clinician = ViewBag.Clinician as GrapheneTrace.Model.Clinician;
    var user = ViewBag.User as GrapheneTrace.Model.User;
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<header class="p-3 border-bottom bg-white d-flex justify-content-between align-items-center">
    <div>
        <h4 class="mb-0">Welcome, @user.FullName</h4>
        <small class="text-muted">Speciality: @clinician?.Speciality</small>
    </div>
    <a href="/Auth/Logout" class="btn btn-outline-danger">Logout</a>
</header>

<div class="container mt-4">

    <h5 class="mb-3">Assigned Patients</h5>

    @if (Model.Count == 0)
    {
        <p class="text-muted">No patients assigned yet.</p>
    }
    else
    {
        <div class="list-group">
            @foreach (var p in Model)
            {
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                        <strong>@p.FullName</strong> <br />
                        <small>@p.Gender â€¢ Age: @p.Age</small>
                    </div>
                    <a href="/Clinician/ViewPatient/@p.PatientId" class="btn btn-sm btn-primary">View</a>
                </div>
            }
        </div>
    }

</div>